interactions:
- request:
    body: null
    headers:
      Connection:
      - close
      Content-Type:
      - application/json
      Host:
      - 127.0.0.1:8000
      User-Agent:
      - ansible-httpget
      authorization:
      - DUMMY
    method: GET
    uri: http://127.0.0.1:8000/api/projects/?name_exact=Self-Service+dev+infrastructure
  response:
    body:
      string: '[{"url":"http://127.0.0.1:8000/api/projects/5d3016240ccf4181b4cdc0baa0e41d5c/","uuid":"5d3016240ccf4181b4cdc0baa0e41d5c","name":"Self-Service
        dev infrastructure","slug":"self-ser-1","customer":"http://127.0.0.1:8000/api/customers/bad9fcc9071e49a0aeb919c1523e7def/","customer_uuid":"bad9fcc9071e49a0aeb919c1523e7def","customer_name":"e2e
        Self-Service testing","customer_slug":"e2e-se-1","customer_native_name":"","customer_abbreviation":"","description":"","created":"2017-06-07T11:46:34.561207+00:00","type":null,"type_name":null,"type_uuid":null,"backend_id":"","start_date":null,"end_date":null,"end_date_requested_by":null,"oecd_fos_2007_code":null,"oecd_fos_2007_label":null,"is_industry":false,"image":null,"resources_count":35,"max_service_accounts":0,"project_credit":null,"marketplace_resource_count":{"06e45986252244218bd062149fc3b5b5":2,"4588ff519260461893ab371b8fe83363":1,"6dfcdbe3c18241dc87526ef411bf6064":17,"e5a5e7651f394d10958328bbc3e967eb":16},"billing_price_estimate":{"total":800.45,"current":"0.00","tax":"0.00","tax_current":"0.00"}}]'
    headers:
      Allow:
      - GET, POST, HEAD, OPTIONS
      Content-Language:
      - en
      Content-Length:
      - '1059'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Sun, 24 Aug 2025 17:14:13 GMT
      Link:
      - <http://127.0.0.1:8000/api/projects/?name_exact=Self-Service+dev+infrastructure>;
        rel="first", <http://127.0.0.1:8000/api/projects/?name_exact=Self-Service+dev+infrastructure>;
        rel="last"
      Server:
      - WSGIServer/0.2 CPython/3.11.9
      Vary:
      - Accept, Accept-Language, Cookie, origin
      X-Frame-Options:
      - DENY
      X-Result-Count:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: null
    headers:
      Connection:
      - close
      Content-Type:
      - application/json
      Host:
      - 127.0.0.1:8000
      User-Agent:
      - ansible-httpget
      authorization:
      - DUMMY
    method: GET
    uri: http://127.0.0.1:8000/api/openstack-instances/?name_exact=ttu-runner-0e&project_uuid=5d3016240ccf4181b4cdc0baa0e41d5c
  response:
    body:
      string: '[{"url":"http://127.0.0.1:8000/api/openstack-instances/a7ddd058f1114493bd0a4c6af090a0b8/","uuid":"a7ddd058f1114493bd0a4c6af090a0b8","name":"ttu-runner-0e","description":"","service_name":"E2E","service_settings":"http://127.0.0.1:8000/api/service-settings/58978795d079495b83bc4a5a8b87f2fc/","service_settings_uuid":"58978795d079495b83bc4a5a8b87f2fc","service_settings_state":"OK","service_settings_error_message":"","project":"http://127.0.0.1:8000/api/projects/5d3016240ccf4181b4cdc0baa0e41d5c/","project_name":"Self-Service
        dev infrastructure","project_uuid":"5d3016240ccf4181b4cdc0baa0e41d5c","customer":"http://127.0.0.1:8000/api/customers/bad9fcc9071e49a0aeb919c1523e7def/","customer_name":"e2e
        Self-Service testing","customer_native_name":"","customer_abbreviation":"","error_message":"","error_traceback":"","resource_type":"OpenStack.Instance","state":"OK","created":"2024-08-15T13:04:56.256708+00:00","modified":"2025-08-24T17:14:00.394361+00:00","backend_id":"d19c6785-9382-493b-9f30-857ecbb08f39","access_url":["192.168.42.70"],"start_time":"2024-08-15T13:06:19.065721+00:00","cores":16,"ram":16384,"disk":102400,"min_ram":1024,"min_disk":10240,"external_ips":[],"internal_ips":["192.168.42.70"],"latitude":null,"longitude":null,"image_name":"ubuntu22.04","flavor_disk":10240,"flavor_name":"c3.small","volumes":[{"url":"http://127.0.0.1:8000/api/openstack-volumes/159c348444ae45258d70eee73ff2577d/","uuid":"159c348444ae45258d70eee73ff2577d","name":"ttu-runner-0e-system","image_name":"ubuntu22.04","state":"OK","bootable":true,"size":102400,"device":"/dev/sda","resource_type":"OpenStack.Volume","type":null,"marketplace_resource_uuid":"b18a24376da2485b98fa727dca7d792e"}],"security_groups":[{"url":"http://127.0.0.1:8000/api/openstack-security-groups/d15715434e8d4da4bd51a54dd35fe2ed/","name":"default","rules":[{"ethertype":"IPv6","direction":"ingress","protocol":"","from_port":-1,"to_port":-1,"cidr":null,"description":"","remote_group_name":"default","remote_group_uuid":"d15715434e8d4da4bd51a54dd35fe2ed","id":64217},{"ethertype":"IPv6","direction":"egress","protocol":"","from_port":-1,"to_port":-1,"cidr":null,"description":"","id":64218},{"ethertype":"IPv4","direction":"ingress","protocol":"","from_port":-1,"to_port":-1,"cidr":null,"description":"","remote_group_name":"default","remote_group_uuid":"d15715434e8d4da4bd51a54dd35fe2ed","id":64219},{"ethertype":"IPv4","direction":"egress","protocol":"","from_port":-1,"to_port":-1,"cidr":null,"description":"","id":64220}],"description":"Default
        security group","state":"OK"}],"server_group":null,"floating_ips":[],"ports":[{"url":"http://127.0.0.1:8000/api/openstack-ports/6d75caca9f014ad7a1deccea14317209/","fixed_ips":[{"subnet_id":"1ccfb0b6-0731-4dde-b7bb-b8db72e21d28","ip_address":"192.168.42.70"}],"mac_address":"fa:16:3e:77:e5:5c","subnet":"http://127.0.0.1:8000/api/openstack-subnets/0a627224c2aa4af4a8c402ab92312ae5/","subnet_uuid":"0a627224c2aa4af4a8c402ab92312ae5","subnet_name":"waldur-dev-farm-sub-net","subnet_description":"","subnet_cidr":"192.168.42.0/24","allowed_address_pairs":[],"device_id":"d19c6785-9382-493b-9f30-857ecbb08f39","device_owner":"compute:nova","security_groups":[{"url":"http://127.0.0.1:8000/api/openstack-security-groups/d15715434e8d4da4bd51a54dd35fe2ed/","uuid":"d15715434e8d4da4bd51a54dd35fe2ed","name":"default","description":"Default
        security group","service_name":"E2E","service_settings":"http://127.0.0.1:8000/api/service-settings/58978795d079495b83bc4a5a8b87f2fc/","service_settings_uuid":"58978795d079495b83bc4a5a8b87f2fc","service_settings_state":"OK","service_settings_error_message":"","project":"http://127.0.0.1:8000/api/projects/5d3016240ccf4181b4cdc0baa0e41d5c/","project_name":"Self-Service
        dev infrastructure","project_uuid":"5d3016240ccf4181b4cdc0baa0e41d5c","customer":"http://127.0.0.1:8000/api/customers/bad9fcc9071e49a0aeb919c1523e7def/","customer_name":"e2e
        Self-Service testing","customer_native_name":"","customer_abbreviation":"","error_message":"","error_traceback":"","resource_type":"OpenStack.SecurityGroup","state":"OK","created":"2024-03-18T13:40:59.066950+00:00","modified":"2024-03-18T13:40:59.066950+00:00","backend_id":"fd369b3e-e9fd-4c3b-ba39-38527fae776d","access_url":null,"tenant":"http://127.0.0.1:8000/api/openstack-tenants/9d80c96ced07443e99a1c810a1d41ba9/","tenant_name":"waldur-dev-farm","tenant_uuid":"9d80c96ced07443e99a1c810a1d41ba9","rules":[{"ethertype":"IPv6","direction":"ingress","protocol":"","from_port":-1,"to_port":-1,"cidr":null,"description":"","remote_group_name":"default","remote_group_uuid":"d15715434e8d4da4bd51a54dd35fe2ed","id":64217,"remote_group":"http://127.0.0.1:8000/api/openstack-security-groups/d15715434e8d4da4bd51a54dd35fe2ed/"},{"ethertype":"IPv6","direction":"egress","protocol":"","from_port":-1,"to_port":-1,"cidr":null,"description":"","id":64218,"remote_group":null},{"ethertype":"IPv4","direction":"ingress","protocol":"","from_port":-1,"to_port":-1,"cidr":null,"description":"","remote_group_name":"default","remote_group_uuid":"d15715434e8d4da4bd51a54dd35fe2ed","id":64219,"remote_group":"http://127.0.0.1:8000/api/openstack-security-groups/d15715434e8d4da4bd51a54dd35fe2ed/"},{"ethertype":"IPv4","direction":"egress","protocol":"","from_port":-1,"to_port":-1,"cidr":null,"description":"","id":64220,"remote_group":null}],"marketplace_offering_uuid":null,"marketplace_offering_name":null,"marketplace_offering_plugin_options":null,"marketplace_category_uuid":null,"marketplace_category_name":null,"marketplace_resource_uuid":null,"marketplace_plan_uuid":null,"marketplace_resource_state":null,"is_usage_based":null,"is_limit_based":null}]}],"availability_zone":null,"connect_directly_to_external_network":false,"runtime_state":"ACTIVE","action":"Stop","action_details":{},"tenant_uuid":"9d80c96ced07443e99a1c810a1d41ba9","hypervisor_hostname":"shrimp4.hpc.ut.ee","tenant":"http://127.0.0.1:8000/api/openstack-tenants/9d80c96ced07443e99a1c810a1d41ba9/","external_address":[],"rancher_cluster":null,"marketplace_offering_uuid":"85089fbe70b84869bc9b8385887a39f4","marketplace_offering_name":"Virtual
        machine in waldur-dev-farm","marketplace_offering_plugin_options":{"storage_mode":"dynamic"},"marketplace_category_uuid":"e5a5e7651f394d10958328bbc3e967eb","marketplace_category_name":"VMs","marketplace_resource_uuid":"2b4d46bf5e2840a79f8d86fadf89820d","marketplace_plan_uuid":null,"marketplace_resource_state":"OK","is_usage_based":false,"is_limit_based":false}]'
    headers:
      Allow:
      - GET, POST, HEAD, OPTIONS
      Content-Language:
      - en
      Content-Length:
      - '10627'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Sun, 24 Aug 2025 17:14:13 GMT
      Link:
      - <http://127.0.0.1:8000/api/openstack-instances/?name_exact=ttu-runner-0e&project_uuid=5d3016240ccf4181b4cdc0baa0e41d5c>;
        rel="first", <http://127.0.0.1:8000/api/openstack-instances/?name_exact=ttu-runner-0e&project_uuid=5d3016240ccf4181b4cdc0baa0e41d5c>;
        rel="last"
      Server:
      - WSGIServer/0.2 CPython/3.11.9
      Vary:
      - Accept, Accept-Language, Cookie, origin
      X-Frame-Options:
      - DENY
      X-Result-Count:
      - '1'
    status:
      code: 200
      message: OK
- request:
    body: '{"attributes": {"action": "force_destroy", "release_floating_ips": false}}'
    headers:
      Connection:
      - close
      Content-Length:
      - '43'
      Content-Type:
      - application/json
      Host:
      - 127.0.0.1:8000
      User-Agent:
      - ansible-httpget
      authorization:
      - DUMMY
    method: POST
    uri: http://127.0.0.1:8000/api/marketplace-resources/2b4d46bf5e2840a79f8d86fadf89820d/terminate/
  response:
    body:
      string: '{"order_uuid":"dc4ececac58649b08167f5fedec40dff"}'
    headers:
      Allow:
      - POST, OPTIONS
      Content-Language:
      - en
      Content-Length:
      - '49'
      Content-Type:
      - application/json; charset=utf-8
      Date:
      - Sun, 24 Aug 2025 17:14:13 GMT
      Server:
      - WSGIServer/0.2 CPython/3.11.9
      Vary:
      - Accept, Accept-Language, Cookie, origin
      X-Frame-Options:
      - DENY
    status:
      code: 200
      message: OK
version: 1

#!/usr/bin/python
#
# THIS FILE IS AUTOGENERATED BY THE ANSIBLE MODULE GENERATOR - DO NOT EDIT
#
from ansible.module_utils.basic import AnsibleModule
from {{ runner_import_path }} import {{ runner_class_name }}
{% for imp in sdk_imports %}
from {{ imp.module }} import {{ imp.function }}
{% endfor %}

ANSIBLE_METADATA = {
    "metadata_version": "1.1",
    "status": ["preview"],
    "supported_by": "OpenNode",
}

DOCUMENTATION = """
---
{{ documentation_yaml | trim | indent(0) }}
"""

EXAMPLES = """
{{ examples_yaml | trim | indent(0) }}
"""

def main():
    """Main function for the Ansible module."""
    argument_spec = dict(
        access_token=dict(type='str', required=True, no_log=True),
        api_url=dict(type='str', required=True),
        state=dict(type='str', default='present', choices=['present', 'absent']),
    {% for name, opts in parameters.items() %}
        {{ name }}=dict(
            type='{{ opts.type }}',
            required={{ opts.get('required', False) }}
            {% if opts.choices -%}
            , choices={{ opts.choices }}
            {%- endif %}
        ),
    {% endfor %}
    )

    module = AnsibleModule(
        argument_spec=argument_spec,
        supports_check_mode=True,
    )
    runner = {{ runner_class_name }}(module, {{ runner_context_string }})
    runner.run()


if __name__ == '__main__':
    main()
